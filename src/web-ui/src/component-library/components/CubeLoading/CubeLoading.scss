/**
 * CubeLoading - cube loading animation styles
 * 3x3x3 cube overall rotation
 *
 * Color scheme reference: RubiksCube3D from the splash screen:
 * - Dark theme: dark gray faces + blue borders
 * - Light theme: blue faces
 */
.cube-loading {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;

  &--small {
    --size: 24px;
    --unit: 8px;
    --block: 7px;
  }
  &--medium {
    --size: 36px;
    --unit: 12px;
    --block: 10px;
  }
  &--large {
    --size: 54px;
    --unit: 18px;
    --block: 15px;
  }

  &__scene {
    width: var(--size);
    height: var(--size);
    perspective: calc(var(--size) * 4);
  }

  &__rubiks {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    animation: cube-spin 3s linear infinite;
  }

  &__block {
    position: absolute;
    width: var(--block);
    height: var(--block);
    top: 50%;
    left: 50%;
    margin: calc(var(--block) / -2);
    transform-style: preserve-3d;
  }

  &__face {
    position: absolute;
    width: 100%;
    height: 100%;
    border: 0.5px solid rgba(100, 180, 255, 0.2);
    backface-visibility: visible;

    &--front {
      background: rgba(58, 58, 66, 0.4);
      transform: translateZ(calc(var(--block) / 2));
    }
    &--back {
      background: rgba(45, 45, 53, 0.35);
      transform: translateZ(calc(var(--block) / -2)) rotateY(180deg);
    }
    &--top {
      background: rgba(66, 66, 74, 0.45);
      transform: translateY(calc(var(--block) / -2)) rotateX(90deg);
    }
    &--bottom {
      background: rgba(37, 37, 48, 0.3);
      transform: translateY(calc(var(--block) / 2)) rotateX(-90deg);
    }
    &--right {
      background: rgba(53, 53, 61, 0.4);
      transform: translateX(calc(var(--block) / 2)) rotateY(90deg);
    }
    &--left {
      background: rgba(42, 42, 50, 0.35);
      transform: translateX(calc(var(--block) / -2)) rotateY(-90deg);
    }
  }

  &__text {
    font-size: 13px;
    font-weight: 500;
    color: var(--color-text-secondary, #888);
    animation: text-fade 1.5s ease-in-out infinite;
  }
}

:root[data-theme-type="light"] {
  .cube-loading__face {
    border-color: rgba(90, 123, 178, 0.35);

    &--front { background: rgba(90, 123, 178, 0.20); }
    &--back { background: rgba(90, 123, 178, 0.18); }
    &--top { background: rgba(124, 107, 153, 0.18); }
    &--bottom { background: rgba(90, 123, 178, 0.22); }
    &--right { background: rgba(124, 107, 153, 0.20); }
    &--left { background: rgba(107, 90, 137, 0.18); }
  }
}

@keyframes cube-spin {
  0% { transform: rotateX(-30deg) rotateY(0deg); }
  100% { transform: rotateX(-30deg) rotateY(360deg); }
}

@keyframes text-fade {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

@media (prefers-reduced-motion: reduce) {
  .cube-loading__rubiks { animation: none; transform: rotateX(-30deg) rotateY(45deg); }
  .cube-loading__text { animation: none; opacity: 1; }
}
